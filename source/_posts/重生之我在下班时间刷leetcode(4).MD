
---
title: 重生之我在下班时间刷leetcode（4）
date: 2025-06-19 21:09:00
---


# LeetCode 题解：将数组分割成多个子数组，使每组最大差值小于等于 k

题目链接：[LeetCode - Partition Array Such That Maximum Difference Is K](https://leetcode.cn/problems/partition-array-such-that-maximum-difference-is-k/?envType=daily-question&envId=2025-06-19)

## 🧠 题目描述简要

给你一个整数数组 `nums` 和一个整数 `k`，你需要将数组划分成若干个子数组，每个子数组中最大值和最小值的差值不能超过 `k`，返回所需的**最小子数组数量**。

---

## 🚀 解题思路

这道题的核心是贪心策略：

1. **对数组进行排序**，使得相邻元素之间的差值是递增的。
2. 遍历排序后的数组，用一个变量记录当前子数组的最小值（初始为负无穷）。
3. 每当发现当前元素与最小值的差值大于 `k`，说明不能放入当前子数组，需要**开启一个新的子数组**，并更新最小值。

这种贪心策略确保我们每次尽可能放更多的数到一个子数组中，因而能保证子数组数量最小。

---

## 💻 Go 实现

```go
func partitionArray(nums []int, k int)(ans int) {
    slices.Sort(nums)
    mn := math.MinInt / 2

    for _, x := range nums {
        if x - mn > k {
            ans++
            mn = x
        }
    }
    return 
}
```

### ✨ 关键点说明

- `slices.Sort(nums)`：Go 1.21+ 的排序函数
- `mn := math.MinInt / 2`：保证第一次必然开启一个新分组
- 每次遇到 `x - mn > k`，表示当前值无法放进现有分组，必须新建分组

---

## ✅ 示例说明

**输入：** `nums = [3,6,1,2,5], k = 2`

**排序后：** `[1,2,3,5,6]`

分组过程：

- `[1,2,3]`：最大差值为 `3 - 1 = 2`，合法
- `[5,6]`：最大差值为 `6 - 5 = 1`，合法

最终分成 2 个子数组，返回 `2`。

---

## 📌 总结

| 步骤 | 说明 |
|------|------|
| 排序数组 | 使相近数靠近，方便分组 |
| 贪心策略 | 每次尽可能多装入一个组，超出差值限制再新建 |
| 时间复杂度 | O(n log n)，排序占主导 |
| 空间复杂度 | O(1)，只需常量额外空间 |
